#include <iostream>
#include <vector>
#include <string>
#include <fstream>
#include <iomanip>

using namespace std;

struct Column{
    string id_zap;
    string brand;
    string car_model;
    string price;
};

vector<Column> vec;

void Reader(vector<Column>& vec){
    string line;
    ifstream in("text.txt");
    if (in.is_open())
    {
        int line_counter = 0;
        while (getline(in, line))
        {
            Column struct_buf;
            string string_buf;
            int buf_counter = 0;
            for (int i = 0; i <= line.size(); i++){
                if ((line[i] == ' ') or (line[i] == '\r') or (i == line.size())){
                    buf_counter++;
                    switch(buf_counter){
                        case 1:
                            struct_buf.id_zap = string_buf;
                            string_buf.clear();
                            break;
                        case 2:
                            struct_buf.brand = string_buf;
                            string_buf.clear();
                            break;
                        case 3:
                            struct_buf.car_model = string_buf;
                            string_buf.clear();
                            break;
                        case 4:
                            struct_buf.price = string_buf;
                            string_buf.clear();
                            break;
                    }
                }
                else {
                    string_buf.push_back(line[i]);
                }
            }
            vec.push_back(struct_buf);
            line_counter++;
        }
    }
    in.close();
} 

void Print(vector<Column>& vec){
    cout << '|' << ' ' << setw(4) << "ID" << ' ' << '|' << ' ';
    cout << setw(10) << "Brand" << ' '<< '|' << ' '; 
    cout << setw(14) << "Car Model" << ' '<< '|' << ' '; 
    cout << setw(6) << "Price" << ' '<< '|' << '\n';
    cout.width(48);
    cout.fill('-');
    cout << '\n';
    cout.fill(' ');
    for (int i = 0; i < vec.size(); i++){
        cout << '|' << ' ' << setw(4) << vec[i].id_zap << ' '<< '|' << ' ';
        cout << setw(10) <<vec[i].brand << ' '<< '|' << ' ';
        cout << setw(14) << vec[i].car_model << ' '<< '|' << ' ';
        cout << setw(6) << vec[i].price << ' '<< '|' << '\n';
    }
}

int main()
{
    Reader(vec);
    Print(vec);
    return 0;
}
